<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta charset="utf-8" />
		<link rel="stylesheet" type="text/css" href="css/style.css" />
		<title>数据仓库分层</title>
	</head>
<body>
<h1>数据仓库分层</h1>

<hr />

<h2>为什么要分层</h2>

<h3>清晰数据结构</h3>

<p>每一个数据分层都有它的作用域，这样我们在使用表的时候能更方便地定位和理解。</p>

<h3>数据血缘追踪</h3>

<p>简单来讲可以这样理解，我们最终给业务呈现的是一张能直接使用的业务表，但是它的来源有很多，如果有一张来源表出问题了，我们希望能够快速准确地定位到问题，并清楚它的危害范围。</p>

<h3>减少重复开发</h3>

<p>规范数据分层，开发一些通用的中间层数据，能够减少极大的重复计算。</p>

<h3>把复杂问题简单化</h3>

<p>讲一个复杂的任务分解成多个步骤来完成，每一层只处理单一的步骤，比较简单和容易理解。而且便于维护数据的准确性，当数据出现问题之后，可以不用修复所有的数据，只需要从有问题的步骤开始修复。</p>

<h3>屏蔽原始数据的异常</h3>

<h3>屏蔽业务的影响，不必改一次业务就需要重新接入数据</h3>

<hr />

<h2>如何分层</h2>

<h3>操作性数据系统ODS</h3>

<blockquote>
<p>在业务系统和数据仓库之间通过ODS隔离，存放从业务系统抽取来的数据。</p>
</blockquote>

<p>一般来说ODS层的数据和源系统的数据是同构的，从数据粒度上来说ODS层的数据粒度是最细的。</p>

<h3>数据仓库DW</h3>

<blockquote>
<p>从ODS层中获得的数据按照主题建立各种数据模型。存放明细事实数据、维表数据和公共指标汇总数据。</p>
</blockquote>

<p>主要功能：</p>

<ul>
	<li>组合相关和相似数据：采用明细宽表，复用关联计算，减少数据扫描；</li>
	<li>公共指标统一加工：构建命名规范、口径一致和算法统一的统计指标，为上层数据产品、应用和服务提供公共指标；建立逻辑汇总宽表；</li>
	<li>建立一致性维度：建立一致的数据分析维表，降低数据计算口径、算法不统一的风险</li>
</ul>

<h4>明细数据层DWD</h4>

<p>采用维度模型方法作为理论基础，根据ODS层数据加工生成明细事实数据和维表数据。</p>

<p>适当采用一些维度退化手法，将维度退化至事实表中，减少事实表和维度表的关联，提高明细数据表的易用性。</p>

<h4>汇总数据层DWS</h4>

<p>公共指标汇总数据一般根据明细事实数据和维表数据加工生成。</p>

<p>加强指标的维度退化，采取更多的宽表化手段构建公共指标数据层，提升公共指标的复用性，减少重复加工。</p>

<h3>数据集市DM</h3>

<blockquote>
<p>由DW层计算汇总而来，根据业务需求，划分宽表，提供后续的业务查询、OLAP分析、数据开发等。</p>
</blockquote>

<h3>数据产品APP</h3>

<blockquote>
<p>存放数据产品个性化的统计指标数据。</p>
</blockquote>

<p>应用层是根据业务需要，由前面三层数据统计而出的结果，可以直接提供查询展现，或供数据分析、数据挖掘使用。</p>

<hr />

</body>
</html>

