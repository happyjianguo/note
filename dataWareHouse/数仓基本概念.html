<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta charset="utf-8" />
		<link rel="stylesheet" type="text/css" href="css/style.css" />
		<title>数仓基本概念</title>
	</head>
<body>
<h1>数仓基本概念</h1>

<hr />

<h3>数据仓库</h3>

<p>数据仓库是一个面向主题的（Subject Oriented）、集成的（Integrated）、相对稳定的（Non-Volatile）、反映历史变化（Time Variant）的数据集合，用于支持管理决策（Decision Making Support）。</p>

<hr />

<h3>OLAP</h3>

<p>联机分析处理， 以基于数据仓库多维度模型的基础上实现的面向分析的各类操作的集合， 而且能够弹性地提供上卷（Roll-up） 、 下钻（Drill-down） 和透视分析（Pivot） 等操作， 它是呈现集成性决策信息的方法， 多用于决策支持系统、 商务智能或数据仓库。</p>

<hr />

<h3>ETL</h3>

<p>ETL，是英文 Extract-Transform-Load 的缩写，用来描述将数据从来源端经过抽取（extract）、转换（transform）、加载（load）至目的端的过程。ETL一词较常用在数据仓库，但其对象并不限于数据仓库。</p>

<p>ETL是构建数据仓库的重要一环，用户从数据源抽取出所需的数据，经过数据清洗,最终按照预先定义好的数据仓库模型，将数据加载到数据仓库中去。</p>

<hr />

<h3>维度</h3>

<p>维度是指审视数据的角度，通常是数据记录的一个属性。</p>

<hr />

<h3>度量</h3>

<p>度量就是被聚合的统计值。</p>

<hr />

<h3>维度的基数</h3>

<p>指的是该维度在数据集中出现的不同值的个数。</p>

<p>通常一个维度的基数会从几十到几万个不等，个别维度如“用户ID”的基数会超过百万甚至千万。基数超过一百万的维度通常被称为超高基数维度。</p>

<p>Cube中所有维度的基数都可以体现出Cube的复杂度， 如果一个Cube中有好几个超高基数维度，那么这个Cube膨胀的概率就会很高。 在创建Cube前需要对所有维度的基数做一个了解，这样就可以帮助设计合理的Cube。</p>

<hr />

<h3>Hierarchy、Level和Member</h3>

<p>Cube就象一个坐标系，每一个<em>Hierarchy</em>代表了一个坐标轴，而<em>Hierarchy</em>中每一个<em>Member</em>代表了坐标轴上的一个值。</p>

<p>维是用于从不同角度描述事物特征的，一般维都会有多层（<em>Level</em>），每个Level都会包含一些共有的或特有的属性</p>

<hr />

<h3>数据立方体Cube</h3>

<p>所有维度组合的<em>Cuboid</em>作为一个整体，被称为<em>Cube</em>。所以简单来说，一个Cube就是许多按维度聚合的物化视图的集合。</p>

<p>数据立方体，是一种常用于数据分析与索引的技术；它可以对原始数据建立多维度索引。通过Cube对数据进行分析，可以大大加快数据的查询效率。</p>

<p>数据立方体只是多维模型的一个形象的说法。立方体其本身只有三维，但多维模型不仅限于三维模型，可以组合更多的维度。</p>

<h5>钻取（Drill-down）</h5>

<p>在维的不同层次间的变化，从上层降到下一层，或者说是将汇总数据拆分到更细节的数据，比如通过对2010年第二度的总销售数据进行钻取来查看2010年第二季度4、5、6每个月的消费数据。</p>

<h5>上卷（Roll-up）</h5>

<p>钻取的逆操作，即从细粒度数据向高层的聚合，如将江苏省、上海市和浙江省的销售数据进行汇总来查看江浙沪地区的销售数据。</p>

<h5>Slice</h5>

<p>选择维中特定的值进行分析，比如只选择电子产品的销售数据，或者2010年第二季度的数据。</p>

<h5>块（Dice）</h5>

<p>选择维中特定区间的数据或者某批特定值进行分析，比如选择2010年第一季度到2010年第二季度的销售数据，或者是电子产品和日用品的销售数据。</p>

<h5>旋转（Pivot）</h5>

<p>即维的位置的互换，就像是二维表的行列转换。</p>

<hr />

<h3>长方体Cuboid</h3>

<p>对于一种维度的组合，将度量做聚合运算，然后将运算的结果保存为一个物化视图，称为<em>Cuboid</em>。</p>

<hr />

<h3>Cube Segment</h3>

<p>是指针对源数据中的某一个片段， 计算出来的Cube数据。 通常数据仓库中的数据数量会随着时间的增长而增长， 而Cube Segment也是按时间顺序来构建的。</p>

<hr />

<h3>事实表</h3>

<p>发生在现实世界中的操作型事件，其所产生的可度量值，每个事件的具体要素，以及具体发生的事情，存储在事实表中。从最低的粒度级别来看，事实表每一行对应一个度量事件，反之亦然。</p>

<hr />

<h3>维度表</h3>

<p>是对事实表中事件的要素的描述信息。它保存了维度的属性值，可以跟事实表做关联；相当于将事实表上经常重复出现的属性抽取出来用一张表进行管理。维度表通常比较宽，是扁平型非规范表，包含大量的低粒度的文本属性。</p>

<hr />

<h3>拉链表</h3>

<p>拉链表是针对数据仓库设计中表存储数据的方式而定义的。所谓拉链，就是记录历史。记录一个事件从开始，一直到当前状态的所有变化的信息。</p>

<hr />

<h3>总线架构</h3>

<p>在多维体系结构的数据仓库架构中，主导思想是分步建立数据仓库，由数据集市组合成企业的数据仓库。但是在建立第一个数据集市前，架构师首先要做的是设计出在整个企业内具有统一解释的标准化的维度和事实，即<strong>一致性维度</strong>和<strong>一致性事实</strong>。开发团队必须严格按照这个体系结构来进行数据集市的迭代开发。</p>

<p><strong>一致性维度</strong>好比企业范围内的一组总线，不同数据集市的事实好比插在这组总线上的元件。这也是称之为<strong>总线架构</strong>的原因。</p>

<p>实际设计过程中，通常以矩阵形式设计总线架构，其中列为一致性维度，行为不同的事实（业务处理过程），在交叉点上做标记表示该事实与该维度相关。这个矩阵称为<strong>总线矩阵</strong>。</p>

<hr />

<h3>主题和主题域</h3>

<h5>主题</h5>

<p>在较高层次上将企业信息系统中的数据综合、归类并进行分析利用的抽象。</p>

<p><strong>每一个主题对应一个宏观的分析领域</strong>。在逻辑意义上，它是<strong>对应企业中某一宏观分析领域所涉及的分析对象</strong>。</p>

<p><strong>面向主题的数据组织方式，就是在较高层次上对分析对象数据的一个完整并且一致的描述</strong>，能刻画各个分析对象所涉及的企业各项数据，以及数据之间的联系。</p>

<h5>主题域</h5>

<p><strong>主题域通常是联系较为紧密的数据主题的集合</strong>。可以根据业务的关注点，将这些数据主题划分到不同的主题域。</p>

<p>主题域也可以定义为对某个主题进行分析后确定的<strong>主题边界</strong>。</p>

<h5>主题域、主题、实体间关系</h5>

<p>主题设计是对主题域进一步分解、细化的过程。</p>

<p>主题域下面可以有多个主题，主题还可以划分成更多的子主题，而实体则是不可划分的最小单位。</p>

<figure><img src="/Users/xerxes/note/dataWareHouse/src/%E4%B8%BB%E9%A2%98%E3%80%81%E4%B8%BB%E9%A2%98%E5%9F%9F%E5%85%B3%E7%B3%BB.jpg"/></figure>

<h5>主题边界</h5>

<p>数据仓库中逻辑模型根据业务划分为多个主题域，主题域下面会涉及具体的实体表，维表以及关系实体，这些划分可以按照下面规则来进行划分：</p>

<ul>
	<li>每个主题域包含一个主要的业务概念；</li>
	<li>每个主题域包含一个主要的交易业务概念，用一个或多个核心实体来表述；</li>
	<li>主题域和主题域之间的核心实体不能重叠，核心实体间的关系实体则可以出现在两个主题域内；</li>
	<li>每个主题域中包含几个关键的核心实体，且这几个核心实体间具有直接的关联关系</li>
</ul>

<h5>主题划分原则</h5>

<ul>
	<li>主题划分必须是基于分析需求的主题划分，通过业务访谈，进一步挖掘日常工作中潜在的更广、更深的分析需求。只有这样，才能真正了解构建数据仓库模型所需的主题划分；</li>
	<li>主题的设计必须能够满足业务人员的内在分析需求；</li>
	<li><strong>主题设计过程中，业务环节点分析是关键，将业务数据中有分析意义的环节及重要属性抽取出来，按业务需求归类，形成一个个主题模型</strong></li>
</ul>

<hr />

<h3>数据域</h3>

<p>数据仓库是面向主题（数据综合、归类并进行分析利用的抽象）的应用。数据仓库模型设计除横向的分层外，通常也需要根据业务情况进行纵向划分数据域。<strong>数据域是联系较为紧密的数据主题的集合，是业务对象高度概括的概念层次归类，目的是便于数据的管理和应用</strong>。</p>

<p><strong>数据域是指面向业务分析，将业务过程或者维度进行抽象的集合</strong>。数据域可以按照用户企业的部门划分，也可以按照业务过程或者业务板块中的功能模块进行划分。</p>

<p>数据域需要抽象提炼，并长期维护更新。</p>

<p>在划分数据域时，既能涵盖当前所有的业务需求，又能再新业务进入时无影响地被包含进已有的数据域中和扩展新的数据域。</p>

<hr />

<h3>业务过程</h3>

<p>业务过程是一个不可拆分的行为事件，是企业的业务活动事件，如下单、支付、退款都是业务过程。</p>

<hr />

<h3>概念模型</h3>

<p>业务流程图，是对真实世界中事物的描述，是对业务的高度概况和抽象（也就是划分主题域），确定系统的核心以及划清系统范围和边界。</p>

</body>
</html>

