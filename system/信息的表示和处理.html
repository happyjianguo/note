<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta charset="utf-8" />
		<link rel="stylesheet" type="text/css" href="css/style.css" />
		<title>信息的表示和处理</title>
	</head>
<body>
<h1>信息的表示和处理</h1>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({tex2jax: {inlineMath:[['$','$']]}});
</script>
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<hr />

<h2>信息存储</h2>

<p>大多数计算机使用8位的块，或称<strong>字节（byte）</strong>，作为最小的可寻址的存储器单位，而不是在存储器中访问单独的位。</p>

<p>机器级程序<strong>将存储器视为一个非常大的字节数组，称为虚拟存储器</strong>。<strong>存储器的每个字节都由一个唯一的数字来标示，称为它的地址</strong>。</p>

<p>所有地址的集合称为<strong>虚拟地址空间</strong>。这个虚拟地址空间只是一个展现给机器级程序的概念性映像。</p>

<h3>二进制</h3>

<h4>机器数和真值</h4>

<h5>机器数</h5>

<p>一个数在计算机中的二进制表示形式，叫做这个数的机器数。机器数是带符号的，在计算机中用一个数的最高位存放符号，正数为0，负数为1。</p>

<h5>真值</h5>

<p>因为第一位是符号位，所以机器数的形式值就不等于真正的数值。</p>

<p>因此，将带符号位的机器数对应的真正数值称为机器数的真值。</p>

<h4>原码、反码、补码</h4>

<h5>原码</h5>

<p>原码就是符号位加上真值的绝对值，即用第一位表示符号，其余位表示值。</p>

<h5>反码</h5>

<p>反码的表示方法：</p>

<ul>
	<li>正数的反码是其本身；</li>
	<li>负数的反码是在其原码的基础上，符号位不变，其余各个位取反</li>
</ul>

<h5>补码</h5>

<p>补码的表示方法：</p>

<ul>
	<li>正数的补码是其本身；</li>
	<li>负数的补码是在其原码的基础上，符号位不变，其余各位取反，最后+1（即在反码的基础上+1）</li>
</ul>

<h4>位移运算</h4>

<p><code>&lt;&lt;</code>表示左移，<code>&gt;&gt;</code>表示右移，这两种运算符号位均参与运算。</p>

<p>负数进行右移时高位补1，其他情况均在空位处补0；</p>

<p>左移运算在移动后最左位可能是0也可能是1。</p>

<p>对于无符号右移<code>&gt;&gt;&gt;</code>（不存在无符号左移），移动时正负数高位均补0，正数不断向右移动的最小值是0，负数不断向右移动的最小值是1。</p>

<h4>位运算</h4>

<h5>按位取反：～</h5>

<h5>按位与：&amp;</h5>

<p>按位与和逻辑与<code>&amp;&amp;</code>运算都可以作为条件表达式，但是后者有短路功能。</p>

<h5>按位或：|</h5>

<p>按位或对应的逻辑或<code>||</code>也具有短路功能。</p>

<h5>按位异或：^</h5>

<h3>十六进制表示法</h3>

<p>一个字节由8位组成。在二进制表示法中，它的值域是00000000 - 11111111，如果用十进制整数表示就是0 - 255。两种表示法对于描述位模式来说都不是非常方便。替代方法是以十六进制数来表示位模式。</p>

<p>十六进制使用数字0-9，以及字符A-F 来表示16个可能的值。用十六进制表示的一个字节的值域为00 - FF。</p>

<p>如下图是十六进制与二进制、十进制的转换方法：</p>

<figure><img src="/Users/xerxes/note/system/src/16:2%E8%BF%9B%E5%88%B6%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2.png"/></figure>

<figure><img src="/Users/xerxes/note/system/src/16:10%E8%BF%9B%E5%88%B6%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2.png"/></figure>

<h3>字</h3>

<p>每台计算机都有一个字长，指明整数和指针数据的标称大小。</p>

<p>因为虚拟地址是以这样的一个字来编码的，所以字长决定的最重要的系统参数就是虚拟地址空间的最大大小。也就是说，对于一个字长为w 位的机器而言，虚拟地址的范围就是$0 - 2^(w-1)$，程序最多访问$2^w$个字节。</p>

<p>对于字长为32位的计算机，虚拟地址空间就限定为乐4千兆字节（4G）。</p>

<h3>寻址和字节顺序</h3>

<p>对于跨越多字节的程序对象，必须建立两个规则：</p>

<ul>
	<li>这个对象的地址是什么；</li>
	<li>在存储器中如何排列这些字节</li>
</ul>

<p>在几乎所有的机器上，多字节对象都被存储为连续的字节序列，对象的地址为所使用字节中最小的地址。</p>

<hr />

<h2>浮点数</h2>

<p>计算机定义了两种小数，分别为定点数和浮点数。</p>

<p>定点数的小数点位置是固定的，在确定字长的系统中一旦指定小数点的位置后，它的整数部分和小数部分也随之确定。</p>

<p>浮点数是采用科学计数法来表示的，由符号位、有效数字、指数三部分组成。</p>

<hr />

<h2>字符，字符集，字符编码</h2>

<p><strong>字符</strong>是一个信息单位，可以是一个汉字、英文字母或符号。</p>

<p><strong>字符集</strong>是字符组成的集合，通常以二维表的形式存在，内容和大小是由使用者的语言而定。</p>

<p><strong>字符编码</strong>是把字符集中的字符编码为特定的二进制数，以便在计算机中存储。互相通信的计算机必须使用相同的编码。</p>

<p>对于一个字符集来说要正确编码转码一个字符需要三个关键元素：</p>

<ul>
	<li>字库表：相当于所有可读或者可显示字符的数据库，决定了整个字符集能够表示的所有字符的范围；</li>
	<li>编码字符集：用一个码点（code point）来表示一个字符在字库中的位置；</li>
	<li>字符编码：编码字符集和实际存储数值之间的转换关系</li>
</ul>

<h3>ASCII 字符集/编码</h3>

<p>ASCII（American Standard Code for Information Interchange，美国信息交换编码标准）是目前广泛使用的字符编码。</p>

<p>ASCII 总共有128个字符，每个字符有7位，最高位取0。</p>

<h3>Unicode</h3>

<p>Unicode 编码系统为表达任意语言的任意字符而设计，使用4字节的数字表达每个字符。</p>

<p>Unicode 的编号从<code>000000</code>开始一直到<code>10FFFF</code>。</p>

<p>Unicode 将码空间共分为17个Plane，每个Plane 中有65536个字符。其中最重要的是第一个Plane，码位从<code>0000 - FFFF</code>，包含了最常用的字符，该Plane 被称为基本多语言平面（Basic Multilingual Plane，BMP），其他Plain 称为辅助平面（Supplementary Planes）。</p>

<p>在计算机领域，Unicode 是业界的一种标准，它是基于<strong>通用字符集（Universal Character Set，由ISO 制定的ISO 10646标准所定义的标准字符集）</strong>的标准来发展。</p>

<h4>Unicode 的问题</h4>

<p><strong>Unicode 只是一个字符集，它只规定了字符的二进制代码，没有规定这个二进制代码应该如何存储</strong>。</p>

<p>这存在两个问题，一是如何才能区分UNICODE 和ASCII？计算机怎么知道三个字节表示一个符号而不是分别表示三个符号？</p>

<p>二是英文字母用一个字节表示就够了，如果UNICODE 统一规定每个符号用3～4个字节表示，那么每个英文字母前都有2～3个字节是0，对于存储来说太浪费。</p>

<h3>UTF-8</h3>

<p>互联网的普及，强烈要求出现一种统一的编码方式。UTF-8就是在互联网上使用最广的一种UNICODE 的实现方式。</p>

<p>UTF-8最大的一个特点就是它是<strong>一种变长的编码方式，它可以使用1～4个字节表示一个符号，根据不同的符号变化字节长度</strong>。</p>

<p>UTF-8只实现了Unicode 的第一个Plane，可见UTF-8虽然是当今接受度最广的字符集编码，但是并没有涵盖整个Unicode 的字库。</p>

<h4>UTF-8的编码规则</h4>

<ul>
	<li>对于单字节的字符，字节的第一位设为0，后面7位是这个字符的UNICODE 码。因此对于英文字母来说，UTF-8 编码和ASCII 码是相同的；</li>
	<li>对于n 字节的符号（n&gt;1），第一个字节的前n 位都设为1，第n+1 位设为0，后面字节的前两位一律设为10。剩下的没有提及的二进制位，全部是这个字符的UNICODE 码</li>
</ul>

<p>以汉字严为例，严的 Unicode 是<code>4E25</code>（<code>100 1110 0010 0101</code>），根据上表，可以发现4E25处在第三行的范围内（<code>0000 0800 - 0000 FFFF</code>），因此严的 UTF-8 编码需要三个字节，即格式是<code>1110xxxx 10xxxxxx 10xxxxxx</code>。然后，从严的最后一个二进制位开始，依次从后向前填入格式中的x，多出的位补0。这样就得到了，严的 UTF-8 编码是<code>11100100 10111000 10100101</code>，转换成十六进制就是<code>E4B8A5</code>。</p>

</body>
</html>

